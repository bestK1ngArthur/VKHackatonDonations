//
//  FeedService.swift
//  VKHackathonDonations
//
//  Created by Artem Belkov on 11.09.2020.
//  Copyright Â© 2020 Tech Birds. All rights reserved.
//

import UIKit

class FeedService {
    
    private var posts: [Post] = {
        let author = Author(
            firstName: "ÐœÐ°Ñ‚Ð²ÐµÐ¹",
            lastName: "ÐŸÑ€Ð°Ð²Ð¾ÑÑƒÐ´Ð¾Ð²",
            photoURL: URL(string: "https://sun1-96.userapi.com/impf/c639623/v639623662/4d9db/HVnCQZZ0dJQ.jpg?size=400x0&quality=90&crop=597,237,1470,1470&sign=8abaa810a690d1d1cdfa94f9ac1e493d&ava=1")!
        )
        
        let metrics = Metrics(
            likesCount: 65,
            commentsCount: 65,
            sharesCount: 4,
            viewsCount: 7200
        )
        
        let oneTimeDonation = Donation(
            name: "Ð”Ð¾Ð±Ñ€ÑÑˆÐ¸ Ð¿Ð¾Ð¼Ð¾Ð³Ð°ÑŽÑ‚ ÐºÐ¾Ñ‚Ð¸ÐºÐ°Ð¼",
            type: .oneTime(date: .futureDate(in: 10)),
            currentAmount: 7_000,
            neededAmount: 10_000,
            target: "ÐšÐ¾Ñ€Ð¼ Ð¸ ÑƒÑ…Ð¾Ð´ Ð´Ð»Ñ Ð¶Ð¸Ð²Ð¾Ñ‚Ð½Ñ‹Ñ… Ð² Ð¿Ñ€Ð¸ÑŽÑ‚Ðµ",
            description:
            """
            ÐŸÑ€Ð¸Ð²ÐµÑ‚-Ð¿Ñ€Ð¸Ð²ÐµÑ‚, Ð´Ð¾Ð±Ñ€ÑÑˆ!

            Ð¯ ÑÐ¾Ð·Ð´Ð°Ð» ÑÑ‚Ð¾ ÑÐ¾Ð±Ñ‹Ñ‚Ð¸Ðµ, Ñ‡Ñ‚Ð¾Ð±Ñ‹ Ð¿Ð¾ÐºÐ°Ð·Ð°Ñ‚ÑŒ ÐºÐ°ÐºÐ¸Ðµ ÑƒÂ Ð¼ÐµÐ½Ñ Ð¿Ñ€ÐµÐºÑ€Ð°ÑÐ½Ñ‹Ðµ Ð´Ð¾Ð±Ñ€ÑÑˆÐ¸ Ð¸ Ð±ÑƒÐ´Ñƒ ÑÑ‡Ð°ÑÑ‚Ð»Ð¸Ð², ÐµÑÐ»Ð¸ Ð¿Ð¾Ð»ÑƒÑ‡Ð¸Ñ‚ÑÑ Ð²Ð´Ð¾Ñ…Ð½Ð¾Ð²Ð¸Ñ‚ÑŒ ÐºÐ¾Ð³Ð¾-Ð½Ð¸Ð±ÑƒÐ´ÑŒ Ñ…Ð¾Ñ‚Ñ Ð±Ñ‹Â Ð½Ð° Ð¼Ð°Ð»ÐµÐ½ÑŒÐºÐ¸Ð¹ Ð¿ÐµÑ€ÐµÐ²Ð¾Ð´ Ð² Ð¿Ð¾Ð»ÑŒÐ·Ñƒ Ñ„Ð¾Ð½Ð´Ð° Ð®Ð½Ð°.

            â—¾ Ð•ÑÐ»Ð¸ Ð¿Ð¾Ð»ÑƒÑ‡Ð¸Ñ‚ÑÑ ÑÐ¾Ð±Ñ€Ð°Ñ‚ÑŒ 1 000 Ñ€ÑƒÐ±Ð»ÐµÐ¹, Ñ‚Ð¾ ÑÑ‚Ð¾ Ð±ÑƒÐ´ÐµÑ‚ 5 Ð¾Ð±Ñ€Ð°Ð±Ð¾Ñ‚Ð°Ð½Ð½Ñ‹Ñ… Ð¶Ð¸Ð²Ð¾Ñ‚Ð½Ñ‹Ñ… Ð¾Ñ‚ Ð±Ð»Ð¾Ñ… Ð¸Â ÐºÐ»ÐµÑ‰ÐµÐ¹.

            â—¾ Ð¡Ð¾Ð±Ñ€Ð°Ð½Ð½Ñ‹Ðµ 5 000 Ñ€ÑƒÐ±Ð»ÐµÐ¹ Ð¿Ñ€ÐµÐ²Ñ€Ð°Ñ‚ÑÑ‚ÑÑ Ð² 25 ÐºÐ³ ÐºÐ¾Ñ€Ð¼Ð° Ð´Ð»Ñ Ð¿Ð¾Ð´Ð¾Ð¿ÐµÑ‡Ð½Ñ‹Ñ… Ñ„Ð¾Ð½Ð´Ð°.

            â—¾ Ð 10 000 Ñ€ÑƒÐ±Ð»ÐµÐ¹ Ð¿Ð¾Ð·Ð²Ð¾Ð»ÑÑ‚ Ð¿Ñ€Ð¾Ð²ÐµÑÑ‚Ð¸ ÐºÑƒÑ€Ñ Ð·Ð°Ð½ÑÑ‚Ð¸Ð¹ Ñ ÐºÐ¸Ð½Ð¾Ð»Ð¾Ð³Ð¾Ð¼ Ð¿Ð¾ ÑÐ¾Ñ†Ð¸Ð°Ð»Ð¸Ð·Ð°Ñ†Ð¸Ð¸ ÑÐ»Ð¾Ð¶Ð½Ð¾Ð¹ ÑÐ¾Ð±Ð°ÐºÐ¸. Ð§Ñ‚Ð¾Ð±Ñ‹ Ð¾Ð½Ð° Ð»ÐµÐ³Ñ‡Ðµ Ð½Ð°ÑˆÐ»Ð° ÑÐ²Ð¾Ð¹ Ð´Ð¾Ð¼.

            Ð’ Ð±Ð»Ð°Ð³Ð¾Ñ‚Ð²Ð¾Ñ€Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ð¾ÑÑ‚Ð¸ Ð½Ðµ Ð±Ñ‹Ð²Ð°ÐµÑ‚ Ð¼Ð°Ð»ÐµÐ½ÑŒÐºÐ¸Ñ… ÑÑƒÐ¼Ð¼, Ð¿Ð¾ÑÑ‚Ð¾Ð¼Ñƒ ÐµÑÐ»Ð¸ Ð²Ñ‹ Ñ…Ð¾Ñ‚Ð¸Ñ‚Ðµ Ð¿Ð¾Ð¼Ð¾Ñ‡ÑŒ, Ñ‚Ð¾Â Ð¿ÐµÑ€ÐµÐ²ÐµÐ´Ð¸Ñ‚Ðµ Ð»ÑŽÐ±ÑƒÑŽ ÑÑƒÐ¼Ð¼Ñƒ, Ð±ÑƒÐ´ÑŒ-Ñ‚Ð¾ 10 Ñ€ÑƒÐ±Ð»ÐµÐ¹ Ð¸Ð»Ð¸ 1000 ðŸ’š
            """,
            account: Account(
                name: "Ð¡Ñ‡Ñ‘Ñ‚ VK Pay",
                number: "1234"
            ),
            author: author,
            photo: #imageLiteral(resourceName: "Cat"),
            metrics: metrics
        )
        
        let oneTimePost = Post(
            author: author,
            date: .today,
            content: "Ð¡ÐµÐ¹Ñ‡Ð°Ñ ÑÐ°Ð¼Ð¾Ðµ Ð²Ñ€ÐµÐ¼Ñ Ð¿Ð¾Ð¼Ð¾Ñ‡ÑŒ Ñ‚ÐµÐ¼, ÐºÑ‚Ð¾ Ð½Ðµ Ð¼Ð¾Ð¶ÐµÑ‚ Ð¿Ð¾Ð¿Ñ€Ð¾ÑÐ¸Ñ‚ÑŒ Ð¾ Ð¿Ð¾Ð¼Ð¾Ñ‰Ð¸ ÑÐ°Ð¼.",
            donation: oneTimeDonation,
            metrics: metrics
        )
        
        let regularDonation = Donation(
            name: "Ð”Ð¾Ð±Ñ€ÑÑˆÐ¸ Ð¿Ð¾Ð¼Ð¾Ð³Ð°ÑŽÑ‚ ÐºÐ¾Ñ‚Ð¸ÐºÐ°Ð¼",
            type: .regular,
            currentAmount: 4_000,
            neededAmount: 10_000,
            target: "ÐšÐ¾Ñ€Ð¼ Ð¸ ÑƒÑ…Ð¾Ð´ Ð´Ð»Ñ Ð¶Ð¸Ð²Ð¾Ñ‚Ð½Ñ‹Ñ… Ð² Ð¿Ñ€Ð¸ÑŽÑ‚Ðµ",
            description:
            """
            ÐŸÑ€Ð¸Ð²ÐµÑ‚-Ð¿Ñ€Ð¸Ð²ÐµÑ‚, Ð´Ð¾Ð±Ñ€ÑÑˆ!

            Ð¯ ÑÐ¾Ð·Ð´Ð°Ð» ÑÑ‚Ð¾ ÑÐ¾Ð±Ñ‹Ñ‚Ð¸Ðµ, Ñ‡Ñ‚Ð¾Ð±Ñ‹ Ð¿Ð¾ÐºÐ°Ð·Ð°Ñ‚ÑŒ ÐºÐ°ÐºÐ¸Ðµ ÑƒÂ Ð¼ÐµÐ½Ñ Ð¿Ñ€ÐµÐºÑ€Ð°ÑÐ½Ñ‹Ðµ Ð´Ð¾Ð±Ñ€ÑÑˆÐ¸ Ð¸ Ð±ÑƒÐ´Ñƒ ÑÑ‡Ð°ÑÑ‚Ð»Ð¸Ð², ÐµÑÐ»Ð¸ Ð¿Ð¾Ð»ÑƒÑ‡Ð¸Ñ‚ÑÑ Ð²Ð´Ð¾Ñ…Ð½Ð¾Ð²Ð¸Ñ‚ÑŒ ÐºÐ¾Ð³Ð¾-Ð½Ð¸Ð±ÑƒÐ´ÑŒ Ñ…Ð¾Ñ‚Ñ Ð±Ñ‹Â Ð½Ð° Ð¼Ð°Ð»ÐµÐ½ÑŒÐºÐ¸Ð¹ Ð¿ÐµÑ€ÐµÐ²Ð¾Ð´ Ð² Ð¿Ð¾Ð»ÑŒÐ·Ñƒ Ñ„Ð¾Ð½Ð´Ð° Ð®Ð½Ð°.

            â—¾ Ð•ÑÐ»Ð¸ Ð¿Ð¾Ð»ÑƒÑ‡Ð¸Ñ‚ÑÑ ÑÐ¾Ð±Ñ€Ð°Ñ‚ÑŒ 1 000 Ñ€ÑƒÐ±Ð»ÐµÐ¹, Ñ‚Ð¾ ÑÑ‚Ð¾ Ð±ÑƒÐ´ÐµÑ‚ 5 Ð¾Ð±Ñ€Ð°Ð±Ð¾Ñ‚Ð°Ð½Ð½Ñ‹Ñ… Ð¶Ð¸Ð²Ð¾Ñ‚Ð½Ñ‹Ñ… Ð¾Ñ‚ Ð±Ð»Ð¾Ñ… Ð¸Â ÐºÐ»ÐµÑ‰ÐµÐ¹.

            â—¾ Ð¡Ð¾Ð±Ñ€Ð°Ð½Ð½Ñ‹Ðµ 5 000 Ñ€ÑƒÐ±Ð»ÐµÐ¹ Ð¿Ñ€ÐµÐ²Ñ€Ð°Ñ‚ÑÑ‚ÑÑ Ð² 25 ÐºÐ³ ÐºÐ¾Ñ€Ð¼Ð° Ð´Ð»Ñ Ð¿Ð¾Ð´Ð¾Ð¿ÐµÑ‡Ð½Ñ‹Ñ… Ñ„Ð¾Ð½Ð´Ð°.

            â—¾ Ð 10 000 Ñ€ÑƒÐ±Ð»ÐµÐ¹ Ð¿Ð¾Ð·Ð²Ð¾Ð»ÑÑ‚ Ð¿Ñ€Ð¾Ð²ÐµÑÑ‚Ð¸ ÐºÑƒÑ€Ñ Ð·Ð°Ð½ÑÑ‚Ð¸Ð¹ Ñ ÐºÐ¸Ð½Ð¾Ð»Ð¾Ð³Ð¾Ð¼ Ð¿Ð¾ ÑÐ¾Ñ†Ð¸Ð°Ð»Ð¸Ð·Ð°Ñ†Ð¸Ð¸ ÑÐ»Ð¾Ð¶Ð½Ð¾Ð¹ ÑÐ¾Ð±Ð°ÐºÐ¸. Ð§Ñ‚Ð¾Ð±Ñ‹ Ð¾Ð½Ð° Ð»ÐµÐ³Ñ‡Ðµ Ð½Ð°ÑˆÐ»Ð° ÑÐ²Ð¾Ð¹ Ð´Ð¾Ð¼.

            Ð’ Ð±Ð»Ð°Ð³Ð¾Ñ‚Ð²Ð¾Ñ€Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ð¾ÑÑ‚Ð¸ Ð½Ðµ Ð±Ñ‹Ð²Ð°ÐµÑ‚ Ð¼Ð°Ð»ÐµÐ½ÑŒÐºÐ¸Ñ… ÑÑƒÐ¼Ð¼, Ð¿Ð¾ÑÑ‚Ð¾Ð¼Ñƒ ÐµÑÐ»Ð¸ Ð²Ñ‹ Ñ…Ð¾Ñ‚Ð¸Ñ‚Ðµ Ð¿Ð¾Ð¼Ð¾Ñ‡ÑŒ, Ñ‚Ð¾Â Ð¿ÐµÑ€ÐµÐ²ÐµÐ´Ð¸Ñ‚Ðµ Ð»ÑŽÐ±ÑƒÑŽ ÑÑƒÐ¼Ð¼Ñƒ, Ð±ÑƒÐ´ÑŒ-Ñ‚Ð¾ 10 Ñ€ÑƒÐ±Ð»ÐµÐ¹ Ð¸Ð»Ð¸ 1000 ðŸ’š
            """,
            account: Account(
                name: "Ð¡Ñ‡Ñ‘Ñ‚ VK Pay",
                number: "1234"
            ),
            author: author,
            photo: #imageLiteral(resourceName: "Cat"),
            metrics: metrics
        )
        
        let regularPost = Post(
            author: author,
            date: .today,
            content: "Ð ÑÑ‚Ð¾ Ð´Ð»Ñ Ñ‚ÐµÑ…, ÐºÑ‚Ð¾ Ð³Ð¾Ñ‚Ð¾Ð² Ð¶ÐµÑ€Ñ‚Ð²Ð¾Ð²Ð°Ñ‚ÑŒ ÐºÐ°Ð¶Ð´Ñ‹Ð¹ Ð¼ÐµÑÑÑ†. ðŸš€",
            donation: regularDonation,
            metrics: metrics
        )
        
        return [oneTimePost, regularPost]
    }()
    
    func getPosts() -> [Post] {
        posts
    }
    
    func addPost(_ post: Post) {
        posts.insert(post, at: 0)
    }
}
